

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Corpus Lingustics Methods &#8212; Python Notes for Linguistics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mycss.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'corpus/corpus-linguistics-methods';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lexical Bundles" href="lexical-bundles.html" />
    <link rel="prev" title="Unicode" href="unicode.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/ntnu-word-2.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/ntnu-word-2.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Python Basics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../python-basics/python-basics.html">Python Basics</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/data-structure.html">Data Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/program-structure.html">Program Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/regex.html">Regular Expression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/input-output.html">Input and Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/oop.html">Object-Oriented Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/docstrings.html">Docstrings Format</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../python-basics/jupyter.html">Jupyter</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/jupyter-notebook.html">Jupyer Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/notebook-to-slides.html">Notebook to Slides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/google-colab.html">Google Colaboratory (Colab)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/google-colab-r.html">Google Colab R</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../python-basics/data-science.html">Data Science Tools</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/numpy.html">Numpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/pandas.html">Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/pickle.html">Object Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/data-visualization-1.html">Data Visualization I</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/data-visualization-2.html">Data Visualization 2</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../python-basics/advanced-skills.html">Advanced Skills</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/magic-r.html">Magic R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/python-tricks.html">Python Tricks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/web-applications.html">Web Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/google-drive-ubuntu.html">Google Drive with Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/productive-tech.html">Phythonic Productivity Techniques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-basics/miscellaneous-notes.html">Miscellaneous Notes</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Corpus Processing with Python</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="corpus-processing.html">Corpus Linguistics with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="nltk.html">Natural Language Tool-Kits (NLTK)</a></li>
<li class="toctree-l1"><a class="reference internal" href="web-crawler.html">Web Crawler</a></li>
<li class="toctree-l1"><a class="reference internal" href="web-crawler-dcard.html">Web Crawler (Dcard)</a></li>
<li class="toctree-l1"><a class="reference internal" href="unicode.html">Unicode</a></li>
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">Corpus Lingustics Methods</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="lexical-bundles.html">Lexical Bundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="tokenization.html">Tokenization</a></li>
<li class="toctree-l2"><a class="reference internal" href="wordnet.html">WordNet</a></li>
<li class="toctree-l2"><a class="reference internal" href="word-cloud.html">Word Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="patterns-constructions.html">Patterns and Constructions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="structured-corpus-processing.html">Structured Corpus Processing</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="bnc.html">BNC-XML</a></li>
<li class="toctree-l2"><a class="reference internal" href="childes.html">CHILDES Corpus</a></li>
<li class="toctree-l2"><a class="reference internal" href="praat-textgrid.html">Praat TextGrid Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="vectorizing-text.html">Vectorizing Texts</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="chinese-processing.html">Chinese Processing</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="jieba.html">Chinese Word Segmentation (jieba)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ckiptagger.html">Chinese Word Segmentation (ckiptagger)</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Statistics with Python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../statistical-analyses/statistical-analyses.html">Statistical Analyses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistical-analyses/descriptive-statistics.html">Descriptive Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistical-analyses/analytic-statistics.html">Analytic Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistical-analyses/network-analysis.html">Network Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistical-analyses/network-analysis-igraph.html">Network Analysis Using Igraph</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">NLP with Python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../nlp/nlp.html">Natural Language Processing with Python</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nlp/nlp-primer.html">Natural Language Processing: A Primer</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../nlp/nlp-pipeline.html">NLP Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/nlp-spacy.html">Natural Language Processing (spaCy)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/nlp-spacy-zh.html">Chinese Natural Language Processing (spaCy)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/nlp-ckipnlp.html">Natural Language Processing (ckipnlp)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nlp/text-normalization-intro.html">Text Normalization</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../nlp/text-normalization-eng.html">Text Normalization (English)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/text-normalization-chinese.html">Text Normalization (Chinese)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nlp/ml-overview.html">Machine Learning Overview</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../nlp/ml-sklearn-regression.html">Machine Learning with Sklearn – Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/ml-sklearn-classification.html">Machine Learning with Sci-Kit Learn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/naive-bayes.html">Naive Bayes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/sentiment-analysis-ml.html">Sentiment Analysis with Traditional Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/neural-network-from-scratch.html">Neural Network From Scratch</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nlp/language-model.html">Language Model</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../nlp/neural-language-model-primer.html">Neural Language Model: A Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/neural-language-model-zh.html">Neural Language Model of Chinese</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/text-gen-lstm-v1.html">Text Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/gpt2.html">Transformer-based Language Model - GPT2</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nlp/word-embeddings.html">Word Embeddings</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../nlp/word2vec.html">Word2Vec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/doc2vec.html">Dov2Vec</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/word-embeddings-autoencoder.html">Generate Text Embeddings Using AutoEncoder</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/transfer-learning-sent-encoding.html">Universal Sentence Embeddings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/sentiment-analysis-dl.html">Sentiment Analysis with Deep Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/sentiment-analysis-lstm-v1.html">Sentiment Analysis with LSTM</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nlp/seq-to-seq-types.html">Intutions for Types of Sequence-to-Sequence Models</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../nlp/seq-to-seq-types-date.html">Types of Seqeunce Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/seq-to-seq-m21-sentiment-attention.html">Sequence Model (many-to-one) with Attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nlp/seq-to-seq-attention-addition.html">Seqeunce Model with Attention for Addition Learning</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../nlp/seq-to-seq-machine-translation.html">Machine Translation (Sequence-to-Sequence)</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../nlp/seq-to-seq-machine-translation-attention.html">Machine Translation with Attention (Thushan)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/hyperparameter-tuning.html">Hyper-Parameter Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/sentiment-analysis-using-bert-chinese.html">Sentiment Analysis Using BERT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/ktrain-tutorial-explaining-predictions.html">Explainable AI</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../appendix/todo.html">To-do List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/alvinntnu/python-notes/blob/master/corpus/corpus-linguistics-methods.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/corpus/corpus-linguistics-methods.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Corpus Lingustics Methods</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparing-corpus-data">Preparing Corpus Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collocations">Collocations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#apply-filters">Apply Filters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pos-collocations">POS Collocations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collocations-based-on-skipped-bigrams">Collocations based on Skipped Bigrams</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scoring-ngrams">Scoring Ngrams</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#retrieve-n-grams">Retrieve n-grams</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dispersion">Dispersion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#delta-p">Delta P</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#checking-computation-accuracy">Checking Computation Accuracy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#concordance">Concordance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#frequency-list">Frequency List</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-frequency-list">Conditional Frequency List</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="corpus-lingustics-methods">
<h1>Corpus Lingustics Methods<a class="headerlink" href="#corpus-lingustics-methods" title="Permalink to this headline">#</a></h1>
<ul class="simple">
<li><p>With <code class="docutils literal notranslate"><span class="pre">nltk</span></code>, we can easily implement quite a few corpus-linguistic methods</p>
<ul>
<li><p>Concordance Analysis (Simple Word Search)</p></li>
<li><p>Frequency Lists</p></li>
<li><p>Collocations</p></li>
<li><p>Data Analysis with R</p></li>
<li><p>Concordance Analysis (Patterns, Constructions?)</p>
<ul>
<li><p>Patterns on sentence strings</p></li>
<li><p>Patterns on sentence word-tag strings</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<section id="preparing-corpus-data">
<h2>Preparing Corpus Data<a class="headerlink" href="#preparing-corpus-data" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">brown</span>
<span class="kn">from</span> <span class="nn">nltk.text</span> <span class="kn">import</span> <span class="n">Text</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">brown_text</span> <span class="o">=</span> <span class="n">Text</span><span class="p">(</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="collocations">
<h2>Collocations<a class="headerlink" href="#collocations" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Documentation <a class="reference external" href="https://www.nltk.org/howto/collocations.html">nltk.collocations</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nltk.collocations</span></code>: Get the <code class="docutils literal notranslate"><span class="pre">BigramCollocationFinder</span></code> which we can use to find n-grams</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nltk.metrics</span></code>: Get the <code class="docutils literal notranslate"><span class="pre">BigramAssocMeasures</span></code> to define collocations (It’s also available in <code class="docutils literal notranslate"><span class="pre">nltk.collocations</span></code>)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">finder.nbest()</span></code> methods to select/filter collocations</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Collocations based on Text</span>
<span class="n">brown_text</span><span class="o">.</span><span class="n">collocation_list</span><span class="p">()[:</span><span class="mi">10</span><span class="p">]</span>
<span class="c1">#brown_text.collocations()</span>

<span class="kn">from</span> <span class="nn">nltk.collocations</span> <span class="kn">import</span> <span class="n">BigramAssocMeasures</span><span class="p">,</span> <span class="n">BigramCollocationFinder</span>

<span class="n">bigram_measures</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">collocations</span><span class="o">.</span><span class="n">BigramAssocMeasures</span><span class="p">()</span> <span class="c1"># measures</span>
<span class="n">finder</span> <span class="o">=</span> <span class="n">BigramCollocationFinder</span><span class="o">.</span><span class="n">from_words</span><span class="p">(</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">())</span> <span class="c1"># finders</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## bigram collocations based on different association measures</span>
<span class="n">finder</span><span class="o">.</span><span class="n">nbest</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">likelihood_ratio</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">finder</span><span class="o">.</span><span class="n">nbest</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">pmi</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;$10,000-per-year&#39;, &#39;French-born&#39;),
 (&#39;$79.89&#39;, &#39;nothing-down&#39;),
 (&#39;$8.50&#39;, &#39;tab&#39;),
 (&quot;&#39;low&quot;, &#39;nigras&#39;),
 (&#39;0.5-mv./m.&#39;, &#39;50-percent&#39;),
 (&#39;0.78&#39;, &#39;mEq&#39;),
 (&#39;1,100&#39;, &#39;circumscriptions&#39;),
 (&#39;1,257,700&#39;, &#39;non-farm&#39;),
 (&#39;11-inch&#39;, &#39;headroom&#39;),
 (&#39;11-shot&#39;, &#39;hammerless&#39;)]
</pre></div>
</div>
</div>
</div>
<section id="apply-filters">
<h3>Apply Filters<a class="headerlink" href="#apply-filters" title="Permalink to this headline">#</a></h3>
<p>We can create an anonymous function as a helper to remove irrelevant word tokens before collocation computation.</p>
<p>For example, we remove:</p>
<ul class="simple">
<li><p>word tokens whose char length &lt; 3</p></li>
<li><p>word tokens that belong to the stopwords</p></li>
<li><p>word tokens that include at least one non-alphabetic char</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Apply freq-based filers for bigram collocations</span>
<span class="n">finder</span><span class="o">.</span><span class="n">apply_freq_filter</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="c1">## Apply word filer function</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="n">stop_words_en</span> <span class="o">=</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">)</span>


<span class="n">filter_stops</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">w</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">3</span> <span class="ow">or</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">stop_words_en</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">w</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()</span>


<span class="n">finder</span><span class="o">.</span><span class="n">apply_word_filter</span><span class="p">(</span><span class="n">filter_stops</span><span class="p">)</span> <span class="c1"># filter on word tokens</span>
<span class="n">finder</span><span class="o">.</span><span class="n">apply_freq_filter</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># filter on bigram min frequencies </span>
<span class="n">finder</span><span class="o">.</span><span class="n">nbest</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">likelihood_ratio</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">finder</span><span class="o">.</span><span class="n">nbest</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">pmi</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;Hong&#39;, &#39;Kong&#39;),
 (&#39;Viet&#39;, &#39;Nam&#39;),
 (&#39;Pathet&#39;, &#39;Lao&#39;),
 (&#39;Simms&#39;, &#39;Purdew&#39;),
 (&#39;Internal&#39;, &#39;Revenue&#39;),
 (&#39;Puerto&#39;, &#39;Rico&#39;),
 (&#39;Saxon&#39;, &#39;Shore&#39;),
 (&#39;carbon&#39;, &#39;tetrachloride&#39;),
 (&#39;unwed&#39;, &#39;mothers&#39;),
 (&#39;Armed&#39;, &#39;Forces&#39;)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="pos-collocations">
<h3>POS Collocations<a class="headerlink" href="#pos-collocations" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Create collcoations based on tags only</span>
<span class="n">finder</span> <span class="o">=</span> <span class="n">BigramCollocationFinder</span><span class="o">.</span><span class="n">from_words</span><span class="p">(</span>
    <span class="n">t</span> <span class="k">for</span> <span class="n">w</span><span class="p">,</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">tagged_words</span><span class="p">(</span><span class="n">tagset</span><span class="o">=</span><span class="s1">&#39;universal&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">t</span> <span class="o">!=</span> <span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">finder</span><span class="o">.</span><span class="n">nbest</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">likelihood_ratio</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;ADP&#39;, &#39;DET&#39;),
 (&#39;DET&#39;, &#39;NOUN&#39;),
 (&#39;PRON&#39;, &#39;VERB&#39;),
 (&#39;ADJ&#39;, &#39;NOUN&#39;),
 (&#39;NOUN&#39;, &#39;.&#39;),
 (&#39;NOUN&#39;, &#39;DET&#39;),
 (&#39;DET&#39;, &#39;ADJ&#39;),
 (&#39;NOUN&#39;, &#39;ADP&#39;),
 (&#39;PRT&#39;, &#39;VERB&#39;),
 (&#39;ADP&#39;, &#39;.&#39;)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="collocations-based-on-skipped-bigrams">
<h3>Collocations based on Skipped Bigrams<a class="headerlink" href="#collocations-based-on-skipped-bigrams" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Create collocations with intervneing words (gapped n-grams)</span>
<span class="n">finder</span> <span class="o">=</span> <span class="n">BigramCollocationFinder</span><span class="o">.</span><span class="n">from_words</span><span class="p">(</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">(),</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">finder</span><span class="o">.</span><span class="n">apply_word_filter</span><span class="p">(</span><span class="n">filter_stops</span><span class="p">)</span>
<span class="n">finder</span><span class="o">.</span><span class="n">apply_freq_filter</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">finder</span><span class="o">.</span><span class="n">nbest</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">likelihood_ratio</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;United&#39;, &#39;States&#39;),
 (&#39;New&#39;, &#39;York&#39;),
 (&#39;per&#39;, &#39;cent&#39;),
 (&#39;Rhode&#39;, &#39;Island&#39;),
 (&#39;years&#39;, &#39;ago&#39;),
 (&#39;Los&#39;, &#39;Angeles&#39;),
 (&#39;White&#39;, &#39;House&#39;),
 (&#39;Peace&#39;, &#39;Corps&#39;),
 (&#39;World&#39;, &#39;War&#39;),
 (&#39;San&#39;, &#39;Francisco&#39;)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="scoring-ngrams">
<h3>Scoring Ngrams<a class="headerlink" href="#scoring-ngrams" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Finders</span>
<span class="n">scored</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">score_ngrams</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">raw_freq</span><span class="p">)</span>
<span class="n">scored</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[((&#39;United&#39;, &#39;States&#39;), 0.0003375841376792124),
 ((&#39;New&#39;, &#39;York&#39;), 0.00025491047130879306),
 ((&#39;per&#39;, &#39;cent&#39;), 0.00012573286760501277),
 ((&#39;years&#39;, &#39;ago&#39;), 0.0001171210273580941),
 ((&#39;The&#39;, &#39;first&#39;), 8.267366637041936e-05),
 ((&#39;Rhode&#39;, &#39;Island&#39;), 7.750656222226816e-05),
 ((&#39;could&#39;, &#39;see&#39;), 7.492301014819255e-05),
 ((&#39;last&#39;, &#39;year&#39;), 5.856051367904705e-05),
 ((&#39;first&#39;, &#39;time&#39;), 5.769932965435518e-05),
 ((&#39;White&#39;, &#39;House&#39;), 5.5976961604971446e-05)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">scored</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">above_score</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">pmi</span><span class="p">,</span> <span class="n">min_score</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">scored</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;Hong&#39;, &#39;Kong&#39;)
(&#39;Viet&#39;, &#39;Nam&#39;)
(&#39;Pathet&#39;, &#39;Lao&#39;)
(&#39;Simms&#39;, &#39;Purdew&#39;)
(&#39;Internal&#39;, &#39;Revenue&#39;)
(&#39;Puerto&#39;, &#39;Rico&#39;)
(&#39;Saxon&#39;, &#39;Shore&#39;)
(&#39;carbon&#39;, &#39;tetrachloride&#39;)
(&#39;unwed&#39;, &#39;mothers&#39;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="retrieve-n-grams">
<h3>Retrieve n-grams<a class="headerlink" href="#retrieve-n-grams" title="Permalink to this headline">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">*</span></code> is the unpack the nested list and take each element as the input of the function call.
So we can use <code class="docutils literal notranslate"><span class="pre">*</span></code> to unlist a nested list. (Similar to <code class="docutils literal notranslate"><span class="pre">unlist()</span></code> in R.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">compute_ngrams</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">sequence</span><span class="p">[</span><span class="n">index</span><span class="p">:]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">compute_ngrams</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">compute_ngrams</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(1, 2), (2, 3), (3, 4)]
[(1, 2, 3), (2, 3, 4), (3, 4, 5)]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="dispersion">
<h2>Dispersion<a class="headerlink" href="#dispersion" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Dispersion of a linguistic unit is also important.</p></li>
<li><p>There should be a metric that indicates how evenly distributed the linguistic unit is.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>How to get the document frequency of the bigrams???</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">unigram_freq</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">())</span>
<span class="n">bigram_freq</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nltk</span><span class="o">.</span><span class="n">bigrams</span><span class="p">(</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">()))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ngram freq list of each file in the corpus</span>
<span class="n">unigram_freq_per_file</span> <span class="o">=</span> <span class="p">[</span><span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> 
                         <span class="k">for</span> <span class="n">words</span> <span class="ow">in</span> <span class="p">[</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="n">fileids</span><span class="o">=</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">fileids</span><span class="p">()]]</span>
<span class="n">bigram_freq_per_file</span> <span class="o">=</span> <span class="p">[</span><span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nltk</span><span class="o">.</span><span class="n">bigrams</span><span class="p">(</span><span class="n">words</span><span class="p">))</span>
                         <span class="k">for</span> <span class="n">words</span> <span class="ow">in</span> <span class="p">[</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="n">fileids</span><span class="o">=</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">fileids</span><span class="p">()]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Function to get unigram dispersion</span>
<span class="k">def</span> <span class="nf">createDipsersionDist</span><span class="p">(</span><span class="n">uni_freq</span><span class="p">,</span> <span class="n">uni_freq_per_file</span><span class="p">):</span>
    <span class="nb">len</span><span class="p">(</span><span class="n">uni_freq_per_file</span><span class="p">)</span>
    <span class="n">unigram_dispersion</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">fid</span> <span class="ow">in</span> <span class="n">uni_freq_per_file</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">w</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fid</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">unigram_dispersion</span><span class="p">:</span>
                <span class="n">unigram_dispersion</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">unigram_dispersion</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">return</span><span class="p">(</span><span class="n">unigram_dispersion</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">unigram_dispersion</span> <span class="o">=</span> <span class="n">createDipsersionDist</span><span class="p">(</span><span class="n">unigram_freq</span><span class="p">,</span> <span class="n">unigram_freq_per_file</span><span class="p">)</span>
<span class="c1"># Dictionary cannot be sliced/subset</span>
<span class="c1"># Get the items() and convert to list for subsetting</span>
<span class="nb">list</span><span class="p">(</span><span class="n">unigram_dispersion</span><span class="o">.</span><span class="n">items</span><span class="p">())[:</span><span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;The&#39;, 500),
 (&#39;Fulton&#39;, 3),
 (&#39;County&#39;, 45),
 (&#39;Grand&#39;, 17),
 (&#39;Jury&#39;, 4),
 (&#39;said&#39;, 314),
 (&#39;Friday&#39;, 34),
 (&#39;an&#39;, 498),
 (&#39;investigation&#39;, 34),
 (&#39;of&#39;, 500),
 (&quot;Atlanta&#39;s&quot;, 2),
 (&#39;recent&#39;, 114),
 (&#39;primary&#39;, 59),
 (&#39;election&#39;, 28),
 (&#39;produced&#39;, 66),
 (&#39;``&#39;, 462),
 (&#39;no&#39;, 455),
 (&#39;evidence&#39;, 119),
 (&quot;&#39;&#39;&quot;, 463),
 (&#39;that&#39;, 500)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#dict(sorted(bigram_freq.items()[:3]))</span>
<span class="nb">list</span><span class="p">(</span><span class="n">bigram_freq</span><span class="o">.</span><span class="n">items</span><span class="p">())[:</span><span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;The_Fulton&#39;, 1),
 (&#39;Fulton_County&#39;, 6),
 (&#39;County_Grand&#39;, 1),
 (&#39;Grand_Jury&#39;, 2),
 (&#39;Jury_said&#39;, 1),
 (&#39;said_Friday&#39;, 4),
 (&#39;Friday_an&#39;, 1),
 (&#39;an_investigation&#39;, 7),
 (&#39;investigation_of&#39;, 15),
 (&quot;of_Atlanta&#39;s&quot;, 1),
 (&quot;Atlanta&#39;s_recent&quot;, 1),
 (&#39;recent_primary&#39;, 1),
 (&#39;primary_election&#39;, 2),
 (&#39;election_produced&#39;, 1),
 (&#39;produced_``&#39;, 1),
 (&#39;``_no&#39;, 6),
 (&#39;no_evidence&#39;, 14),
 (&quot;evidence_&#39;&#39;&quot;, 3),
 (&quot;&#39;&#39;_that&quot;, 16),
 (&#39;that_any&#39;, 31)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bigram_dispersion</span> <span class="o">=</span> <span class="n">createDipsersionDist</span><span class="p">(</span><span class="n">bigram_freq</span><span class="p">,</span> <span class="n">bigram_freq_per_file</span><span class="p">)</span>
<span class="nb">list</span><span class="p">(</span><span class="n">bigram_dispersion</span><span class="o">.</span><span class="n">items</span><span class="p">())[:</span><span class="mi">20</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;The_Fulton&#39;, 1),
 (&#39;Fulton_County&#39;, 1),
 (&#39;County_Grand&#39;, 1),
 (&#39;Grand_Jury&#39;, 2),
 (&#39;Jury_said&#39;, 1),
 (&#39;said_Friday&#39;, 3),
 (&#39;Friday_an&#39;, 1),
 (&#39;an_investigation&#39;, 7),
 (&#39;investigation_of&#39;, 14),
 (&quot;of_Atlanta&#39;s&quot;, 1),
 (&quot;Atlanta&#39;s_recent&quot;, 1),
 (&#39;recent_primary&#39;, 1),
 (&#39;primary_election&#39;, 2),
 (&#39;election_produced&#39;, 1),
 (&#39;produced_``&#39;, 1),
 (&#39;``_no&#39;, 6),
 (&#39;no_evidence&#39;, 12),
 (&quot;evidence_&#39;&#39;&quot;, 3),
 (&quot;&#39;&#39;_that&quot;, 16),
 (&#39;that_any&#39;, 30)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">unigram_freq</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">unigram_dispersion</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We can implement the Delta P dispersion metric proposed by <a class="reference external" href="https://www.researchgate.net/publication/233685362_Dispersions_and_adjusted_frequencies_in_corpora">Gries (2008)</a>.</p>
</div>
</section>
<section id="delta-p">
<h2>Delta P<a class="headerlink" href="#delta-p" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>This is a directional association metric.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Inherit BigramAssocMeasures</span>
<span class="k">class</span> <span class="nc">AugmentedBigramAssocMeasures</span><span class="p">(</span><span class="n">BigramAssocMeasures</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">raw_freq2</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span><span class="o">*</span><span class="n">marginals</span><span class="p">):</span>          
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Scores ngrams by their frequency&quot;&quot;&quot;</span>
        <span class="n">n_ii</span><span class="p">,</span> <span class="n">n_io</span><span class="p">,</span> <span class="n">n_oi</span><span class="p">,</span> <span class="n">n_oo</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_contingency</span><span class="p">(</span><span class="o">*</span><span class="n">marginals</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">n_ii</span>
    
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">dp_fwd</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">marginals</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Scores bigrams using DP forward</span>
<span class="sd">        This may be shown with respect to a contingency table::</span>

<span class="sd">                w1    ~w1</span>
<span class="sd">             ------ ------</span>
<span class="sd">         w2 | n_ii | n_oi | = n_xi</span>
<span class="sd">             ------ ------</span>
<span class="sd">        ~w2 | n_io | n_oo |</span>
<span class="sd">             ------ ------</span>
<span class="sd">             = n_ix        TOTAL = n_xx</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">n_ii</span><span class="p">,</span> <span class="n">n_oi</span><span class="p">,</span> <span class="n">n_io</span><span class="p">,</span> <span class="n">n_oo</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_contingency</span><span class="p">(</span><span class="o">*</span><span class="n">marginals</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">n_ii</span><span class="o">/</span><span class="p">(</span><span class="n">n_ii</span><span class="o">+</span><span class="n">n_io</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">n_oi</span><span class="o">/</span><span class="p">(</span><span class="n">n_oi</span><span class="o">+</span><span class="n">n_oo</span><span class="p">))</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">dp_bwd</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">marginals</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Scores bigrams using DP backward</span>
<span class="sd">        This may be shown with respect to a contingency table::</span>

<span class="sd">                w1    ~w1</span>
<span class="sd">             ------ ------</span>
<span class="sd">         w2 | n_ii | n_oi | = n_xi</span>
<span class="sd">             ------ ------</span>
<span class="sd">        ~w2 | n_io | n_oo |</span>
<span class="sd">             ------ ------</span>
<span class="sd">             = n_ix        TOTAL = n_xx</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">n_ii</span><span class="p">,</span> <span class="n">n_oi</span><span class="p">,</span> <span class="n">n_io</span><span class="p">,</span> <span class="n">n_oo</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_contingency</span><span class="p">(</span><span class="o">*</span><span class="n">marginals</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">n_ii</span><span class="o">/</span><span class="p">(</span><span class="n">n_ii</span><span class="o">+</span><span class="n">n_oi</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">n_io</span><span class="o">/</span><span class="p">(</span><span class="n">n_io</span><span class="o">+</span><span class="n">n_oo</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bigram_measures</span> <span class="o">=</span> <span class="n">AugmentedBigramAssocMeasures</span><span class="p">()</span>
<span class="n">finder</span> <span class="o">=</span> <span class="n">BigramCollocationFinder</span><span class="o">.</span><span class="n">from_words</span><span class="p">(</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#finder.apply_freq_filter(10)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bigrams_dpfwd</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">score_ngrams</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">dp_fwd</span><span class="p">)</span>
<span class="n">bigrams_dpfwd</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[((&#39;$10,000-per-year&#39;, &#39;French-born&#39;), 1.0),
 ((&#39;$79.89&#39;, &#39;nothing-down&#39;), 1.0),
 ((&#39;$8.50&#39;, &#39;tab&#39;), 1.0),
 ((&quot;&#39;low&quot;, &#39;nigras&#39;), 1.0),
 ((&#39;0.5-mv./m.&#39;, &#39;50-percent&#39;), 1.0),
 ((&#39;0.78&#39;, &#39;mEq&#39;), 1.0),
 ((&#39;1,100&#39;, &#39;circumscriptions&#39;), 1.0),
 ((&#39;1,257,700&#39;, &#39;non-farm&#39;), 1.0),
 ((&#39;11-inch&#39;, &#39;headroom&#39;), 1.0),
 ((&#39;11-shot&#39;, &#39;hammerless&#39;), 1.0)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bigrams_dpbwd</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">score_ngrams</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">dp_bwd</span><span class="p">)</span>
<span class="n">bigrams_dpbwd</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[((&#39;$10,000-per-year&#39;, &#39;French-born&#39;), 1.0),
 ((&#39;$79.89&#39;, &#39;nothing-down&#39;), 1.0),
 ((&#39;$8.50&#39;, &#39;tab&#39;), 1.0),
 ((&quot;&#39;low&quot;, &#39;nigras&#39;), 1.0),
 ((&#39;0.5-mv./m.&#39;, &#39;50-percent&#39;), 1.0),
 ((&#39;0.78&#39;, &#39;mEq&#39;), 1.0),
 ((&#39;1,100&#39;, &#39;circumscriptions&#39;), 1.0),
 ((&#39;1,257,700&#39;, &#39;non-farm&#39;), 1.0),
 ((&#39;11-inch&#39;, &#39;headroom&#39;), 1.0),
 ((&#39;11-shot&#39;, &#39;hammerless&#39;), 1.0)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="checking-computation-accuracy">
<h2>Checking Computation Accuracy<a class="headerlink" href="#checking-computation-accuracy" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Check if DP is correctly computed.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bigrams_rawfreq</span> <span class="o">=</span> <span class="n">finder</span><span class="o">.</span><span class="n">score_ngrams</span><span class="p">(</span><span class="n">bigram_measures</span><span class="o">.</span><span class="n">raw_freq2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bigrams_rawfreq</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[((&#39;of&#39;, &#39;the&#39;), 9625.0),
 ((&#39;,&#39;, &#39;and&#39;), 6288.0),
 ((&#39;.&#39;, &#39;The&#39;), 6081.0),
 ((&#39;in&#39;, &#39;the&#39;), 5546.0),
 ((&#39;,&#39;, &#39;the&#39;), 3754.0),
 ((&#39;.&#39;, &#39;``&#39;), 3515.0),
 ((&#39;to&#39;, &#39;the&#39;), 3426.0),
 ((&quot;&#39;&#39;&quot;, &#39;.&#39;), 3332.0),
 ((&#39;;&#39;, &#39;;&#39;), 2784.0),
 ((&#39;.&#39;, &#39;He&#39;), 2660.0)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">unigrams_rawfreq</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w1f</span> <span class="o">=</span> <span class="n">unigrams_rawfreq</span><span class="p">[</span><span class="s1">&#39;of&#39;</span><span class="p">]</span>
<span class="n">w2f</span> <span class="o">=</span> <span class="n">unigrams_rawfreq</span><span class="p">[</span><span class="s1">&#39;the&#39;</span><span class="p">]</span>
<span class="n">w1w2</span> <span class="o">=</span> <span class="p">[</span><span class="n">freq</span> <span class="k">for</span> <span class="p">(</span><span class="n">w1</span><span class="p">,</span><span class="n">w2</span><span class="p">),</span><span class="n">freq</span> <span class="ow">in</span> <span class="n">bigrams_rawfreq</span> <span class="k">if</span> <span class="n">w1</span><span class="o">==</span><span class="s2">&quot;of&quot;</span> <span class="ow">and</span> <span class="n">w2</span><span class="o">==</span><span class="s2">&quot;the&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">corpus_size</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">unigrams_rawfreq</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        w1     _w1</span>
<span class="sd">w2      w1w2   ____    w2f</span>
<span class="sd">_w2     ____   ____</span>
<span class="sd">        w1f            corpus_size</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">w1f</span><span class="p">,</span> <span class="n">w2f</span><span class="p">,</span> <span class="n">w1w2</span><span class="p">,</span><span class="n">corpus_size</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>36080 62713 9625.0 1161192
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Delta P Forward for `of the`:&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">w1w2</span><span class="o">/</span><span class="p">(</span><span class="n">w1f</span><span class="p">))</span><span class="o">-</span><span class="p">((</span><span class="n">w2f</span><span class="o">-</span><span class="n">w1w2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">corpus_size</span><span class="o">-</span><span class="n">w1f</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Delta P Backward for `of the`:&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">w1w2</span><span class="o">/</span><span class="p">(</span><span class="n">w2f</span><span class="p">))</span><span class="o">-</span><span class="p">((</span><span class="n">w1f</span><span class="o">-</span><span class="n">w1w2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">corpus_size</span><span class="o">-</span><span class="n">w2f</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Delta P Forward for `of the`: 0.2195836568422283
Delta P Backward for `of the`: 0.12939364991590951
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">([</span><span class="n">dp</span> <span class="k">for</span> <span class="p">(</span><span class="n">w1</span><span class="p">,</span> <span class="n">w2</span><span class="p">),</span><span class="n">dp</span> <span class="ow">in</span> <span class="n">bigrams_dpfwd</span> <span class="k">if</span> <span class="n">w1</span><span class="o">==</span><span class="s2">&quot;of&quot;</span> <span class="ow">and</span> <span class="n">w2</span><span class="o">==</span><span class="s2">&quot;the&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">([</span><span class="n">dp</span> <span class="k">for</span> <span class="p">(</span><span class="n">w1</span><span class="p">,</span> <span class="n">w2</span><span class="p">),</span><span class="n">dp</span> <span class="ow">in</span> <span class="n">bigrams_dpbwd</span> <span class="k">if</span> <span class="n">w1</span><span class="o">==</span><span class="s2">&quot;of&quot;</span> <span class="ow">and</span> <span class="n">w2</span><span class="o">==</span><span class="s2">&quot;the&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0.2195836568422283]
[0.12939364991590951]
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>How to implement the delta P of trigrams?</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># inherit Trigram</span>
<span class="kn">from</span> <span class="nn">nltk.collocations</span> <span class="kn">import</span> <span class="n">TrigramAssocMeasures</span><span class="p">,</span> <span class="n">TrigramCollocationFinder</span>
<span class="k">class</span> <span class="nc">AugmentedTrigramAssocMeasures</span><span class="p">(</span><span class="n">TrigramAssocMeasures</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A collection of trigram association measures. Each association measure</span>
<span class="sd">        is provided as a function with four arguments::</span>

<span class="sd">            trigram_score_fn(n_iii,</span>
<span class="sd">                             (n_iix, n_ixi, n_xii),</span>
<span class="sd">                             (n_ixx, n_xix, n_xxi),</span>
<span class="sd">                             n_xxx)</span>

<span class="sd">        The arguments constitute the marginals of a contingency table, counting</span>
<span class="sd">        the occurrences of particular events in a corpus. The letter i in the</span>
<span class="sd">        suffix refers to the appearance of the word in question, while x indicates</span>
<span class="sd">        the appearance of any word. Thus, for example:</span>
<span class="sd">        n_iii counts (w1, w2, w3), i.e. the trigram being scored</span>
<span class="sd">        n_ixx counts (w1, *, *)</span>
<span class="sd">        n_xxx counts (*, *, *), i.e. any trigram</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">dp_fwd</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">marginals</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scores trigrams using delta P forward, i.e. conditional prob of w3 given w1,w2</span>
<span class="sd">        minus conditional prob of w3, in the absence of w1,w2</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n_iii</span><span class="p">,</span> <span class="n">n_oii</span><span class="p">,</span> <span class="n">n_ioi</span><span class="p">,</span> <span class="n">n_ooi</span><span class="p">,</span> <span class="n">n_iio</span><span class="p">,</span> <span class="n">n_oio</span><span class="p">,</span> <span class="n">n_ioo</span><span class="p">,</span> <span class="n">n_ooo</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_contingency</span><span class="p">(</span><span class="o">*</span><span class="n">marginals</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">((</span><span class="n">n_iii</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n_iii</span><span class="o">+</span><span class="n">n_iio</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">n_ooi</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n_ooi</span><span class="o">+</span><span class="n">n_ooo</span><span class="p">))</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">dp_bwd</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">marginals</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scores trigrams using delta P backward, i.e. conditional prob of w1 given w2,w3</span>
<span class="sd">        minus conditional prob of w1, in the absence of w2,w3</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">n_iii</span><span class="p">,</span> <span class="n">n_oii</span><span class="p">,</span> <span class="n">n_ioi</span><span class="p">,</span> <span class="n">n_ooi</span><span class="p">,</span> <span class="n">n_iio</span><span class="p">,</span> <span class="n">n_oio</span><span class="p">,</span> <span class="n">n_ioo</span><span class="p">,</span> <span class="n">n_ooo</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_contingency</span><span class="p">(</span><span class="o">*</span><span class="n">marginals</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">((</span><span class="n">n_iii</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n_iii</span><span class="o">+</span><span class="n">n_oii</span><span class="p">))</span> <span class="o">-</span> <span class="p">((</span><span class="n">n_ioo</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n_ioo</span><span class="o">+</span><span class="n">n_ooo</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trigram_measures</span> <span class="o">=</span> <span class="n">AugmentedTrigramAssocMeasures</span><span class="p">()</span>
<span class="n">finder3</span> <span class="o">=</span> <span class="n">TrigramCollocationFinder</span><span class="o">.</span><span class="n">from_words</span><span class="p">(</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">finder3</span><span class="o">.</span><span class="n">apply_freq_filter</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">finder3</span><span class="o">.</span><span class="n">nbest</span><span class="p">(</span><span class="n">trigram_measures</span><span class="o">.</span><span class="n">pmi</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&quot;Drug&#39;s&quot;, &#39;chemical&#39;, &#39;name&#39;),
 (&#39;Brown&#39;, &#39;&amp;&#39;, &#39;Sharpe&#39;),
 (&#39;B.&#39;, &#39;&amp;&#39;, &#39;O.&#39;),
 (&#39;per&#39;, &#39;capita&#39;, &#39;income&#39;),
 (&#39;John&#39;, &#39;A.&#39;, &#39;Notte&#39;),
 (&#39;average&#39;, &#39;per&#39;, &#39;capita&#39;),
 (&#39;General&#39;, &#39;Motors&#39;, &#39;stock&#39;),
 (&#39;basic&#39;, &#39;wage&#39;, &#39;rate&#39;),
 (&#39;World&#39;, &#39;War&#39;, &#39;2&#39;),
 (&#39;New&#39;, &#39;York&#39;, &#39;Times&#39;)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">finder3</span><span class="o">.</span><span class="n">nbest</span><span class="p">(</span><span class="n">trigram_measures</span><span class="o">.</span><span class="n">dp_fwd</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;the&#39;, &#39;Lo&#39;, &#39;Shu&#39;),
 (&#39;average&#39;, &#39;per&#39;, &#39;capita&#39;),
 (&#39;of&#39;, &#39;Economic&#39;, &#39;Affairs&#39;),
 (&#39;the&#39;, &#39;minimal&#39;, &#39;polynomial&#39;),
 (&#39;B.&#39;, &#39;&amp;&#39;, &#39;O.&#39;),
 (&#39;the&#39;, &#39;Export-Import&#39;, &#39;Bank&#39;),
 (&#39;Chamber&#39;, &#39;of&#39;, &#39;Commerce&#39;),
 (&#39;Notte&#39;, &#39;,&#39;, &#39;Jr.&#39;),
 (&#39;.&#39;, &quot;Drug&#39;s&quot;, &#39;chemical&#39;),
 (&#39;v.&#39;, &#39;United&#39;, &#39;States&#39;)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">finder3</span><span class="o">.</span><span class="n">nbest</span><span class="p">(</span><span class="n">trigram_measures</span><span class="o">.</span><span class="n">dp_bwd</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;Puerto&#39;, &#39;Rico&#39;, &#39;,&#39;),
 (&#39;Los&#39;, &#39;Angeles&#39;, &#39;,&#39;),
 (&#39;dominant&#39;, &#39;stress&#39;, &#39;will&#39;),
 (&#39;couple&#39;, &#39;of&#39;, &#39;weeks&#39;),
 (&#39;A.&#39;, &#39;Notte&#39;, &#39;,&#39;),
 (&#39;United&#39;, &#39;States&#39;, &#39;is&#39;),
 (&#39;Brown&#39;, &#39;&amp;&#39;, &#39;Sharpe&#39;),
 (&#39;Department&#39;, &#39;of&#39;, &#39;Economic&#39;),
 (&#39;boys&#39;, &#39;and&#39;, &#39;girls&#39;),
 (&#39;General&#39;, &#39;Motors&#39;, &#39;stock&#39;)]
</pre></div>
</div>
</div>
</div>
</section>
<section id="concordance">
<h2>Concordance<a class="headerlink" href="#concordance" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Simple Concordances</span>
<span class="n">brown_text</span><span class="o">.</span><span class="n">concordance</span><span class="p">(</span><span class="s1">&#39;American&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">79</span><span class="p">,</span> <span class="n">lines</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Displaying 5 of 569 matches:
will deliver tomorrow night to the American people over nationwide television 
ocial security taxes on 70 million American workers would be raised to pay the
o retired as vice president of the American Screw Co. in 1955 said , `` Both p
wice elected overwhelmingly by the American people as president of the United 
n example : Last month in Ghana an American missionary discovered when he came
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#nltk.app.concordance()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Regular Expression Concordances</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="n">sents</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">sents</span><span class="p">()]</span>
<span class="n">regex_1</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;(is|was) \w+ing&#39;</span>
<span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="n">sent</span> <span class="k">for</span> <span class="n">sent</span> <span class="ow">in</span> <span class="n">sents</span><span class="p">[:</span><span class="mi">100</span><span class="p">]</span> <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">regex_1</span><span class="p">,</span> <span class="n">sent</span><span class="p">)]</span>
<span class="n">targets</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1">#if targets:</span>
<span class="c1">#    for match in targets:</span>
<span class="c1">#        print(match.strip())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;The City Purchasing Department , the jury said , `` is lacking in experienced clerical personnel as a result of city personnel policies &#39;&#39; .&quot;
</pre></div>
</div>
</div>
</div>
</section>
<section id="frequency-list">
<h2>Frequency List<a class="headerlink" href="#frequency-list" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## word frequencies</span>
<span class="n">brown_fd_words</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">())</span>
<span class="n">brown_fd_words</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;the&#39;, 62713),
 (&#39;,&#39;, 58334),
 (&#39;.&#39;, 49346),
 (&#39;of&#39;, 36080),
 (&#39;and&#39;, 27915),
 (&#39;to&#39;, 25732),
 (&#39;a&#39;, 21881),
 (&#39;in&#39;, 19536),
 (&#39;that&#39;, 10237),
 (&#39;is&#39;, 10011)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## nouns freq</span>
<span class="n">brown_fd_nouns</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">([</span><span class="n">w</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">w</span><span class="p">,</span><span class="n">t</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">tagged_words</span><span class="p">()</span> 
                                 <span class="k">if</span> <span class="nb">any</span> <span class="p">(</span><span class="n">noun_tag</span> <span class="ow">in</span> <span class="n">t</span> <span class="k">for</span> <span class="n">noun_tag</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;NP&#39;</span><span class="p">,</span><span class="s1">&#39;NN&#39;</span><span class="p">])])</span>
<span class="n">brown_fd_nouns</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">brown_fd_nouns_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">brown_fd_nouns</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;word&#39;</span><span class="p">,</span><span class="s1">&#39;freq&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Sort the data frame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">brown_fd_nouns_df</span><span class="p">[</span><span class="n">brown_fd_nouns_df</span><span class="p">[</span><span class="s1">&#39;freq&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">100</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">&quot;freq&quot;</span><span class="p">,</span><span class="s2">&quot;word&quot;</span><span class="p">],</span><span class="n">ascending</span><span class="o">=</span><span class="p">[</span><span class="kc">False</span><span class="p">,</span><span class="kc">True</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>word</th>
      <th>freq</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>243</th>
      <td>time</td>
      <td>1597</td>
    </tr>
    <tr>
      <th>174</th>
      <td>man</td>
      <td>1203</td>
    </tr>
    <tr>
      <th>5114</th>
      <td>af</td>
      <td>995</td>
    </tr>
    <tr>
      <th>248</th>
      <td>years</td>
      <td>949</td>
    </tr>
    <tr>
      <th>779</th>
      <td>way</td>
      <td>899</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1030</th>
      <td>events</td>
      <td>101</td>
    </tr>
    <tr>
      <th>204</th>
      <td>james</td>
      <td>101</td>
    </tr>
    <tr>
      <th>1723</th>
      <td>officer</td>
      <td>101</td>
    </tr>
    <tr>
      <th>272</th>
      <td>test</td>
      <td>101</td>
    </tr>
    <tr>
      <th>3644</th>
      <td>trees</td>
      <td>101</td>
    </tr>
  </tbody>
</table>
<p>433 rows × 2 columns</p>
</div></div></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We can also pass the data frame to R for data exploration.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> rpy2.ipython
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span> -i brown_fd_nouns_df

library(dplyr)
brown_fd_nouns_df %&gt;%
filter(freq &gt; 100) %&gt;%
arrange(desc(freq), word) %&gt;% 
head(50)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>R[write to console]: 
Attaching package: ‘dplyr’


R[write to console]: The following objects are masked from ‘package:stats’:

    filter, lag


R[write to console]: The following objects are masked from ‘package:base’:

    intersect, setdiff, setequal, union
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>            word freq
243         time 1597
174          man 1203
5114          af  995
248        years  949
779          way  899
486       people  845
1011         mr.  844
63         state  787
1099       world  787
1227         men  763
1438        life  715
303          day  687
175         year  656
875       states  586
278         work  583
299        house  582
158         mrs.  534
865         part  496
9          place  496
340       school  489
32        number  470
1801      course  465
1173         war  463
101         fact  447
590        water  444
1343        hand  423
896   government  418
229       system  416
121        night  411
1217        head  407
1869        eyes  401
756     business  393
12          city  393
72       program  388
525        group  386
371         days  384
819         room  383
656    president  382
1001        side  375
39           end  369
1246       point  369
1254      things  368
212         john  362
1061         use  361
701         case  360
354        order  359
459     children  355
356       church  348
1108       power  340
595  development  333
</pre></div>
</div>
</div>
</div>
</section>
<section id="conditional-frequency-list">
<h2>Conditional Frequency List<a class="headerlink" href="#conditional-frequency-list" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Word by POS Frequency Distribution</span>

<span class="n">brown_news_tagged_words</span> <span class="o">=</span> <span class="n">brown</span><span class="o">.</span><span class="n">tagged_words</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="s1">&#39;news&#39;</span><span class="p">,</span> <span class="n">tagset</span><span class="o">=</span><span class="s1">&#39;universal&#39;</span><span class="p">)</span>
<span class="n">brown_news_cfd</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">ConditionalFreqDist</span><span class="p">(</span><span class="n">brown_news_tagged_words</span><span class="p">)</span>
<span class="n">brown_news_cfd</span><span class="p">[</span><span class="s1">&#39;yield&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FreqDist({&#39;NOUN&#39;: 5, &#39;VERB&#39;: 1})
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## POS by Word Frequency Distribution</span>
<span class="n">brown_news_cfd2</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">ConditionalFreqDist</span><span class="p">([(</span><span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="ow">in</span> <span class="n">brown_news_tagged_words</span><span class="p">])</span>
<span class="n">brown_news_cfd2</span><span class="p">[</span><span class="s1">&#39;VERB&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;is&#39;, 732),
 (&#39;was&#39;, 717),
 (&#39;be&#39;, 526),
 (&#39;said&#39;, 402),
 (&#39;will&#39;, 388),
 (&#39;are&#39;, 328),
 (&#39;has&#39;, 300),
 (&#39;had&#39;, 279),
 (&#39;have&#39;, 265),
 (&#39;were&#39;, 252)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Word by Genre Frequency Distribution</span>
<span class="n">brown_genre_cfd</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">ConditionalFreqDist</span><span class="p">(</span>
    <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">genre</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">categories</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="n">genre</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">brown_genre_cfd</span><span class="o">.</span><span class="n">conditions</span><span class="p">()[:</span><span class="mi">50</span><span class="p">]</span>
<span class="n">brown_genre_cfd</span><span class="p">[</span><span class="s1">&#39;mysterious&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FreqDist({&#39;belles_lettres&#39;: 6, &#39;fiction&#39;: 4, &#39;lore&#39;: 3, &#39;religion&#39;: 3, &#39;romance&#39;: 3, &#39;learned&#39;: 2, &#39;reviews&#39;: 2, &#39;adventure&#39;: 1, &#39;humor&#39;: 1, &#39;science_fiction&#39;: 1})
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">brown_genre_cfd</span><span class="p">[</span><span class="s1">&#39;mysterious&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span> <span class="c1"># with freq</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;belles_lettres&#39;, 6), (&#39;fiction&#39;, 4), (&#39;lore&#39;, 3), (&#39;religion&#39;, 3), (&#39;romance&#39;, 3), (&#39;learned&#39;, 2), (&#39;reviews&#39;, 2), (&#39;adventure&#39;, 1), (&#39;humor&#39;, 1), (&#39;science_fiction&#39;, 1)]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Genre by Word Frequency Distribution</span>
<span class="n">brown_genre_cdf2</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">ConditionalFreqDist</span><span class="p">(</span>
    <span class="p">(</span><span class="n">genre</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">categories</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="n">genre</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Genre by Word Frequency Distribution</span>
<span class="n">brown_genre_cdf2</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">ConditionalFreqDist</span><span class="p">(</span>
    <span class="p">(</span><span class="n">genre</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">genre</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">categories</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="n">genre</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">top_n_word</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">freq</span><span class="p">)</span> <span class="ow">in</span> <span class="n">brown_fd_words</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()]</span>

<span class="n">brown_genre_cdf2</span><span class="o">.</span><span class="n">tabulate</span><span class="p">(</span><span class="n">conditions</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;adventure&#39;</span><span class="p">,</span><span class="s1">&#39;editorial&#39;</span><span class="p">,</span><span class="s1">&#39;fiction&#39;</span><span class="p">],</span>
                         <span class="n">samples</span><span class="o">=</span><span class="n">top_n_word</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           the   of  and   to    a   in that   is  was  for 
adventure 3370 1322 1622 1309 1354  847  494   98  914  331 
editorial 3508 1976 1302 1554 1095 1001  578  744  308  509 
  fiction 3423 1419 1696 1489 1281  916  530  144 1082  392 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">top_n_word2</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span> <span class="ow">in</span> <span class="n">brown</span><span class="o">.</span><span class="n">tagged_words</span><span class="p">(</span><span class="n">tagset</span><span class="o">=</span><span class="s1">&#39;universal&#39;</span><span class="p">)</span> 
               <span class="k">if</span> <span class="n">tag</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;NOUN&#39;</span><span class="p">)]</span>
<span class="n">top_n_word2_fd</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">top_n_word2</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">top_n_word2_fd</span><span class="p">)</span>
<span class="n">brown_genre_cdf2</span><span class="o">.</span><span class="n">tabulate</span><span class="p">(</span><span class="n">conditions</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;adventure&#39;</span><span class="p">,</span><span class="s1">&#39;editorial&#39;</span><span class="p">,</span><span class="s1">&#39;fiction&#39;</span><span class="p">],</span>
                         <span class="n">samples</span><span class="o">=</span><span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span> <span class="ow">in</span> <span class="n">top_n_word2_fd</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;time&#39;, 1555), (&#39;man&#39;, 1148), (&#39;Af&#39;, 994), (&#39;years&#39;, 942), (&#39;way&#39;, 883), (&#39;Mr.&#39;, 844), (&#39;people&#39;, 809), (&#39;men&#39;, 736), (&#39;world&#39;, 684), (&#39;life&#39;, 676)]
            time    man     Af  years    way    Mr. people    men  world   life 
adventure    127    165      0     32     65     22     24     81     15     29 
editorial     72     56      0     63     43    110     75     38     66     35 
  fiction     99    111      0     44     62     39     39     72     24     44 
</pre></div>
</div>
</div>
</div>
</section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python-notes",
            path: "./corpus"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python-notes'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="unicode.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Unicode</p>
      </div>
    </a>
    <a class="right-next"
       href="lexical-bundles.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Lexical Bundles</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preparing-corpus-data">Preparing Corpus Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#collocations">Collocations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#apply-filters">Apply Filters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pos-collocations">POS Collocations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#collocations-based-on-skipped-bigrams">Collocations based on Skipped Bigrams</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scoring-ngrams">Scoring Ngrams</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#retrieve-n-grams">Retrieve n-grams</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dispersion">Dispersion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#delta-p">Delta P</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#checking-computation-accuracy">Checking Computation Accuracy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#concordance">Concordance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#frequency-list">Frequency List</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-frequency-list">Conditional Frequency List</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Alvin Chen
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2020 Alvin Chen.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>